<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Instant Moving Quote – Fast Any Moves</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="https://maps.googleapis.com/maps/api/js?key= AIzaSyA-P2kaqlMH-EOFjVIHbZ4S0Ki8DN2WVFE&libraries=places"></script>

<style>
body {font-family: Arial; background:#f4f6f8; margin:0; padding:20px;}
.container {max-width:800px; margin:auto; background:white; padding:30px; border-radius:10px; box-shadow:0 5px 20px rgba(0,0,0,0.1);}
h1 {text-align:center;}
input, select, textarea {width:100%; padding:10px; margin:8px 0 15px; border-radius:5px; border:1px solid #ccc;}
button {background:#0d6efd; color:white; padding:15px; width:100%; border:none; border-radius:5px; font-size:18px; cursor:pointer;}
button:hover {background:#084298;}
.result {margin-top:25px; padding:15px; background:#f1f1f1; border-radius:8px;}
label {font-weight:bold;}
</style>
</head>

<body>
<div class="container">
<h1>Instant Moving Quote</h1>
<p>Help us serve you better</p>

<form id="quoteForm">

<label>Name *</label>
<input type="text" name="Name" required>

<label>Phone *</label>
<input type="text" name="Phone" required>

<label>Email *</label>
<input type="email" name="Email" required>

<label>Move Date *</label>
<input type="datetime-local" name="Move_Date" required id="moveDate">

<label>Hours (Minimum 2) *</label>
<input type="number" name="Hours" min="2" value="2" required>

<label>Do you need help with loading and unloading? *</label>
<select name="Service" required>
<option value="">Select</option>
<option value="45">No help required</option>
<option value="55">1 Man</option>
<option value="70">2 Men</option>
<option value="90">3 Men</option>
</select>

<label>Collection Address *</label>
<input type="text" id="collection" required>

<label>Is there any flight of stairs / no lift?</label>
<select id="collectionStairs">
<option value="0">Ground floor / Lift</option>
<option value="1">1 Flight</option>
<option value="2">2 Flights</option>
<option value="3">3 Flights</option>
<option value="4">4 Flights</option>
</select>

<label>Via Address (optional)</label>
<input type="text" id="via">

<label>Is there any flight of stairs / no lift?</label>
<select id="viaStairs">
<option value="0">Ground floor / Lift</option>
<option value="1">1 Flight</option>
<option value="2">2 Flights</option>
<option value="3">3 Flights</option>
<option value="4">4 Flights</option>
</select>

<label>Delivery Address *</label>
<input type="text" id="delivery" required>

<label>Is there any flight of stairs / no lift?</label>
<select id="deliveryStairs">
<option value="0">Ground floor / Lift</option>
<option value="1">1 Flight</option>
<option value="2">2 Flights</option>
<option value="3">3 Flights</option>
<option value="4">4 Flights</option>
</select>

<label>Additional Information</label>
<textarea name="Additional_Info"></textarea>

<button type="button" onclick="calculateQuote()">Get My Instant Quote</button>

</form>

<div class="result" id="result"></div>
</div>

<script>
const emailRecipient = "imarianorhei@gmail.com";

function calculateQuote(){

const hoursInput = parseInt(document.querySelector("[name='Hours']").value);
const hours = Math.max(2, hoursInput);

const rate = parseFloat(document.querySelector("[name='Service']").value);
const costHours = rate * hours;

const collection = document.getElementById("collection").value;
const via = document.getElementById("via").value;
const delivery = document.getElementById("delivery").value;

const collectionStairs = parseInt(document.getElementById("collectionStairs").value);
const viaStairs = parseInt(document.getElementById("viaStairs").value);
const deliveryStairs = parseInt(document.getElementById("deliveryStairs").value);

const totalFlights = collectionStairs + viaStairs + deliveryStairs;

let stairsCost = 0;
if(rate !== 45){
stairsCost = totalFlights * 10 * (rate / 55);
}

const service = new google.maps.DistanceMatrixService();

let origins = [collection];
let destinations = [delivery];

service.getDistanceMatrix({
origins: origins,
destinations: destinations,
travelMode: 'DRIVING'
}, function(response, status){

if(status !== "OK"){ alert("Distance error"); return; }

const element = response.rows[0].elements[0];
const distanceMeters = element.distance.value;
const durationSeconds = element.duration.value;

const miles = (distanceMeters / 1609).toFixed(2);
const costMiles = (miles * 1.5).toFixed(2);

const loadingTime = totalFlights * 10 * 60;
const totalTimeSeconds = durationSeconds + loadingTime;
const totalTimeHours = Math.floor(totalTimeSeconds / 3600);
const totalTimeMinutes = Math.floor((totalTimeSeconds % 3600) / 60);

const totalFinal = (costHours + parseFloat(costMiles) + stairsCost).toFixed(2);

document.getElementById("result").innerHTML = `
<strong>Hours charged:</strong> ${hours}<br>
<strong>Cost hours:</strong> £${costHours.toFixed(2)}<br>
<strong>Miles:</strong> ${miles}<br>
<strong>Cost miles:</strong> £${costMiles}<br>
<strong>Total flights:</strong> ${totalFlights}<br>
<strong>Cost stairs:</strong> £${stairsCost.toFixed(2)}<br>
<hr>
<strong>Total final:</strong> £${totalFinal}<br>
<strong>Estimated total time:</strong> ${totalTimeHours}h ${totalTimeMinutes}m
`;

});
}

document.getElementById("moveDate").min = new Date().toISOString().slice(0,16);

new google.maps.places.Autocomplete(document.getElementById("collection"));
new google.maps.places.Autocomplete(document.getElementById("via"));
new google.maps.places.Autocomplete(document.getElementById("delivery"));
</script>

</body>
</html>
