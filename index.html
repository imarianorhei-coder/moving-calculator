<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>FAST ANY MOVES LTD | Instant Moving Quote</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial;background:#f4f6f9;margin:0}
.container{max-width:750px;margin:40px auto;background:#fff;padding:30px;border-radius:10px;box-shadow:0 5px 20px rgba(0,0,0,0.08)}
h1{text-align:center;margin-bottom:10px}
h2{text-align:center;margin-bottom:20px;font-weight:normal;color:#555;font-size:18px}
label{font-weight:bold;display:block;margin-top:15px}
input,select,textarea{width:100%;padding:10px;margin-top:5px;border-radius:6px;border:1px solid #ccc}
button{width:100%;padding:15px;margin-top:20px;background:#007bff;color:#fff;border:none;border-radius:6px;font-size:16px;cursor:pointer}
button:hover{background:#0056b3}
.result{margin-top:25px;padding:20px;background:#eef5ff;border-radius:8px}
</style>
</head>
<body>

<div class="container">
<h1>FAST ANY MOVES LTD</h1>
<h2>Instant Moving Quote<br>Help us serve you better</h2>

<form id="quoteForm">

<label>Name *</label>
<input type="text" id="name" required>

<label>Phone *</label>
<input type="text" id="phone" required>

<label>Email *</label>
<input type="email" id="email" required>

<label>Move Date *</label>
<input type="datetime-local" id="moveDate" required>

<label>Do you need help with loading and unloading? *</label>
<select id="service" required>
<option value="">Select</option>
<option value="45">No help required + Medium Van</option>
<option value="55">1 Man + Medium Van</option>
<option value="70">2 Men + Medium Van</option>
<option value="90">3 Men + Medium Van</option>
</select>

<!-- Collection Address -->
<label>Collection Address *</label>
<input type="text" id="collection_postcode" placeholder="Enter postcode / number" required>
<select id="collection_select" required></select>
<label>Collection Stairs</label>
<select id="stairsCollection">
<option value="0">Ground floor / Lift</option>
<option value="1">1 Flight</option>
<option value="2">2 Flights</option>
<option value="3">3 Flights</option>
<option value="4">4 Flights</option>
</select>

<!-- Via Address -->
<label>Via Address (optional)</label>
<input type="text" id="via_postcode" placeholder="Enter postcode / number">
<select id="via_select"></select>
<label>Via Stairs</label>
<select id="stairsVia">
<option value="0">Ground floor / Lift</option>
<option value="1">1 Flight</option>
<option value="2">2 Flights</option>
<option value="3">3 Flights</option>
<option value="4">4 Flights</option>
</select>

<!-- Delivery Address -->
<label>Delivery Address *</label>
<input type="text" id="delivery_postcode" placeholder="Enter postcode / number" required>
<select id="delivery_select" required></select>
<label>Delivery Stairs</label>
<select id="stairsDelivery">
<option value="0">Ground floor / Lift</option>
<option value="1">1 Flight</option>
<option value="2">2 Flights</option>
<option value="3">3 Flights</option>
<option value="4">4 Flights</option>
</select>

<label>Additional Information</label>
<textarea id="info"></textarea>

<button type="submit">Get My Instant Quote</button>
</form>

<div id="result" class="result"></div>
</div>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDex0iuSIdBsP21VWQJxws0dlpUj9heWac&libraries=places"></script>

<script>
// Min date for move
document.getElementById("moveDate").min = new Date().toISOString().slice(0,16);

// Helper function to populate addresses from postcode
function setupAddressSelect(postcodeInputId, selectId) {
    const input = document.getElementById(postcodeInputId);
    const select = document.getElementById(selectId);

    input.addEventListener("blur", function() {
        const value = input.value;
        if(!value) return;
        const geocoder = new google.maps.Geocoder();
        geocoder.geocode({address: value}, function(results, status){
            if(status === "OK" && results.length){
                select.innerHTML = ""; // clear old options
                results.forEach((res, i) => {
                    const option = document.createElement("option");
                    option.value = res.formatted_address;
                    option.text = res.formatted_address;
                    select.appendChild(option);
                });
            }
        });
    });
}

// Setup for Collection, Via, Delivery
setupAddressSelect("collection_postcode","collection_select");
setupAddressSelect("via_postcode","via_select");
setupAddressSelect("delivery_postcode","delivery_select");

// On form submit, call existing calculator
document.getElementById("quoteForm").addEventListener("submit", function(e){
    e.preventDefault();

    // Replace addresses with selected options
    const collection = document.getElementById("collection_select").value || "";
    const via = document.getElementById("via_select").value || "";
    const delivery = document.getElementById("delivery_select").value || "";

    // Set back values so your current calculation works exactly the same
    // E.g. document.getElementById("collection").value = collection;
    // Your existing calculator script will pick up these values
    document.getElementById("result").innerHTML = `Addresses selected:\nCollection: ${collection}\nVia: ${via}\nDelivery: ${delivery}`.replace(/\n/g,"<br>");

    // Here you can call your existing calculateQuote() or WhatsApp send
});
</script>
