<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Instant Moving Quote</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{font-family:Arial;background:#f4f6f9;margin:0}
.container{max-width:700px;margin:40px auto;background:#fff;padding:30px;border-radius:10px;box-shadow:0 5px 20px rgba(0,0,0,0.08)}
h1{text-align:center}
label{font-weight:bold;display:block;margin-top:15px}
input,select,textarea{width:100%;padding:10px;margin-top:5px;border-radius:6px;border:1px solid #ccc}
button{width:100%;padding:15px;margin-top:20px;background:#007bff;color:#fff;border:none;border-radius:6px;font-size:16px;cursor:pointer}
button:hover{background:#0056b3}
.result{margin-top:25px;padding:15px;background:#eef5ff;border-radius:8px}
</style>
</head>

<body>

<div class="container">
<h1>Instant Moving Quote</h1>

<form id="quoteForm">

<label>Name *</label>
<input type="text" id="name" required>

<label>Phone *</label>
<input type="text" id="phone" required>

<label>Email *</label>
<input type="email" id="email" required>

<label>Move Date *</label>
<input type="datetime-local" id="moveDate" required>

<label>Hours (Minimum 2) *</label>
<input type="number" id="hours" min="2" value="2" required>

<label>Do you need help with loading and unloading? *</label>
<select id="service" required>
<option value="">Select</option>
<option value="45">No help required</option>
<option value="55">1 Man</option>
<option value="70">2 Men</option>
<option value="90">3 Men</option>
</select>

<label>Collection Address *</label>
<input type="text" id="collection" required>

<label>Is there any flight of stairs / no lift?</label>
<select id="stairsCollection">
<option value="0">Ground floor / Lift</option>
<option value="1">1 Flight</option>
<option value="2">2 Flights</option>
<option value="3">3 Flights</option>
<option value="4">4 Flights</option>
</select>

<label>Via Address (optional)</label>
<input type="text" id="via">

<label>Is there any flight of stairs / no lift?</label>
<select id="stairsVia">
<option value="0">Ground floor / Lift</option>
<option value="1">1 Flight</option>
<option value="2">2 Flights</option>
<option value="3">3 Flights</option>
<option value="4">4 Flights</option>
</select>

<label>Delivery Address *</label>
<input type="text" id="delivery" required>

<label>Is there any flight of stairs / no lift?</label>
<select id="stairsDelivery">
<option value="0">Ground floor / Lift</option>
<option value="1">1 Flight</option>
<option value="2">2 Flights</option>
<option value="3">3 Flights</option>
<option value="4">4 Flights</option>
</select>

<label>Additional Information</label>
<textarea id="info"></textarea>

<button type="submit">Get My Instant Quote</button>

</form>

<div id="result" class="result"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
(function(){
emailjs.init("GR5ehmpI9S5BvHCGb");
})();

document.getElementById("moveDate").min = new Date().toISOString().slice(0,16);

document.getElementById("quoteForm").addEventListener("submit", function(e){
e.preventDefault();
calculateQuote();
});

function calculateQuote(){

let name=document.getElementById("name").value;
let phone=document.getElementById("phone").value;
let email=document.getElementById("email").value;
let hours=parseInt(document.getElementById("hours").value);
let rate=parseFloat(document.getElementById("service").value);

let stairsCollection=parseInt(document.getElementById("stairsCollection").value);
let stairsVia=parseInt(document.getElementById("stairsVia").value);
let stairsDelivery=parseInt(document.getElementById("stairsDelivery").value);
let stairsTotal=stairsCollection+stairsVia+stairsDelivery;

let collection=document.getElementById("collection").value;
let delivery=document.getElementById("delivery").value;

let miles=10; 
let costMiles=miles*1.5;
let costHours=hours*rate;

let costStairs=0;
if(rate!==45){
costStairs=stairsTotal*10;
}

let total=costHours+costMiles+costStairs;

let estimatedHours=hours;
let estimatedMinutes=30;

let rawDate=document.getElementById("moveDate").value;
let d=new Date(rawDate);
let formattedDate=
("0"+d.getDate()).slice(-2)+"/"+
("0"+(d.getMonth()+1)).slice(-2)+"/"+
d.getFullYear()+" – "+
("0"+d.getHours()).slice(-2)+":"+
("0"+d.getMinutes()).slice(-2);

let breakdown=
"Hours charged: "+hours+"\n"+
"Cost hours: £"+costHours.toFixed(2)+"\n"+
"Miles: "+miles.toFixed(2)+"\n"+
"Cost miles: £"+costMiles.toFixed(2)+"\n"+
"Collection Stairs: "+stairsCollection+"\n"+
"Via Stairs: "+stairsVia+"\n"+
"Delivery Stairs: "+stairsDelivery+"\n"+
"Total flights: "+stairsTotal+"\n"+
"Cost stairs: £"+costStairs.toFixed(2)+"\n"+
"Total final: £"+total.toFixed(2)+"\n"+
"Estimated total time: "+estimatedHours+"h "+estimatedMinutes+"m";

document.getElementById("result").innerHTML=
"<b>Total final:</b> £"+total.toFixed(2)+"<br>"+
"<b>Estimated total time:</b> "+estimatedHours+"h "+estimatedMinutes+"m";

emailjs.send("service_1e9jyk9","template_0tbv6y9",{
name:name,
phone:phone,
email:email,
move_date:formattedDate,
hours:hours,
service:rate,
collection:collection,
delivery:delivery,
collection_stairs:stairsCollection,
via_stairs:stairsVia,
delivery_stairs:stairsDelivery,
quote_breakdown:breakdown,
to_email:"info@fastanymoves.co.uk",
reply_to:email
});
}
</script>

</body>
</html>
