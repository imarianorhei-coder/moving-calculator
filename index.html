<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Instant Moving Quote – Fast Any Moves Ltd</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background:#f4f6f9;
  padding:20px;
}

.container {
  max-width:700px;
  margin:auto;
  background:white;
  padding:30px;
  border-radius:12px;
  box-shadow:0 5px 25px rgba(0,0,0,0.08);
}

h1 {
  text-align:center;
  margin-bottom:5px;
}

.sub {
  text-align:center;
  color:#666;
  margin-bottom:25px;
}

input, select, textarea {
  width:100%;
  padding:10px;
  margin-bottom:15px;
  border-radius:6px;
  border:1px solid #ccc;
  font-size:14px;
}

button {
  width:100%;
  padding:14px;
  background:#1e73be;
  color:white;
  border:none;
  border-radius:6px;
  font-size:16px;
  cursor:pointer;
}

button:hover {
  background:#155d9c;
}

#result {
  margin-top:25px;
  background:#eef5ff;
  padding:15px;
  border-radius:8px;
  display:none;
}
</style>
</head>

<body>

<div class="container">

<h1>Instant Moving Quote</h1>
<p class="sub">Help us serve you better</p>

<form id="quoteForm" action="https://formsubmit.co/imarianorhei@gmail.com" method="POST">

<input type="hidden" name="_subject" value="New Instant Quote - Fast Any Moves">
<input type="hidden" name="_captcha" value="false">

<input type="text" name="Name" placeholder="Name *" required>
<input type="tel" name="Phone" placeholder="Phone *" required>
<input type="email" name="Email" placeholder="Email *" required>

<input type="datetime-local" name="Move_Date" required>

<input type="number" name="Hours" min="2" value="2" required placeholder="Hours (Minimum 2) *">

<select name="Service" required>
<option value="">Help Required *</option>
<option value="45">No help required</option>
<option value="55">1 Man</option>
<option value="70">2 Men</option>
<option value="90">3 Men</option>
</select>

<input id="collection" type="text" name="Collection_Address" placeholder="Collection Address *" required>

<select name="Collection_Stairs">
<option value="0">Ground floor / Lift</option>
<option value="1">1 Flight</option>
<option value="2">2 Flights</option>
<option value="3">3 Flights</option>
<option value="4">4 Flights</option>
</select>

<input id="via" type="text" name="Via_Address" placeholder="Via Address (optional)">

<select name="Via_Stairs">
<option value="0">Ground floor / Lift</option>
<option value="1">1 Flight</option>
<option value="2">2 Flights</option>
<option value="3">3 Flights</option>
<option value="4">4 Flights</option>
</select>

<input id="delivery" type="text" name="Delivery_Address" placeholder="Delivery Address *" required>

<select name="Delivery_Stairs">
<option value="0">Ground floor / Lift</option>
<option value="1">1 Flight</option>
<option value="2">2 Flights</option>
<option value="3">3 Flights</option>
<option value="4">4 Flights</option>
</select>

<textarea name="Additional_Info" placeholder="Additional Information"></textarea>

<input type="hidden" name="Quote_Breakdown" id="quoteData">

<button type="submit">Get My Instant Quote</button>

</form>

<div id="result"></div>

</div>

<script src="https://maps.googleapis.com/maps/api/js?key= AIzaSyA-P2kaqlMH-EOFjVIHbZ4S0Ki8DN2WVFE&libraries=places"></script>

<script>

// Prevent past dates
document.querySelector('input[name="Move_Date"]').min = new Date().toISOString().slice(0,16);

new google.maps.places.Autocomplete(document.getElementById('collection'));
new google.maps.places.Autocomplete(document.getElementById('via'));
new google.maps.places.Autocomplete(document.getElementById('delivery'));

document.getElementById("quoteForm").addEventListener("submit", function(e){

e.preventDefault();

let hours = parseInt(document.querySelector('[name="Hours"]').value);
let rate = parseFloat(document.querySelector('[name="Service"]').value);
let collection = document.getElementById("collection").value;
let via = document.getElementById("via").value;
let delivery = document.getElementById("delivery").value;

let collectionStairs = parseInt(document.querySelector('[name="Collection_Stairs"]').value);
let viaStairs = parseInt(document.querySelector('[name="Via_Stairs"]').value);
let deliveryStairs = parseInt(document.querySelector('[name="Delivery_Stairs"]').value);

let distanceService = new google.maps.DistanceMatrixService();

let stops = via ? [collection, via, delivery] : [collection, delivery];

distanceService.getDistanceMatrix({
origins: stops.slice(0, -1),
destinations: stops.slice(1),
travelMode: 'DRIVING',
}, function(response, status){

if (status !== "OK") return;

let driveSeconds = 0;
let distanceMeters = 0;

response.rows.forEach(row=>{
row.elements.forEach(el=>{
driveSeconds += el.duration.value;
distanceMeters += el.distance.value;
});
});

let miles = distanceMeters / 1609;
let costMiles = miles * 1.5;
let costHours = rate * hours;

let totalFlights = collectionStairs + viaStairs + deliveryStairs;
let costStairs = 0;

if(rate !== 45){
costStairs = totalFlights * 10;
}

let loadingMinutes = 0;

if(rate === 45) loadingMinutes = 30;
if(rate === 55) loadingMinutes = 90;
if(rate === 70) loadingMinutes = 70;
if(rate === 90) loadingMinutes = 60;

let stairsMinutes = totalFlights * 10;
let driveMinutes = driveSeconds / 60;

let estimatedMinutes = loadingMinutes + stairsMinutes + driveMinutes;
let bookedMinutes = hours * 60;

let totalMinutes = Math.max(estimatedMinutes, bookedMinutes);

let totalFinal = costHours + costMiles + costStairs;

let h = Math.floor(totalMinutes / 60);
let m = Math.round(totalMinutes % 60);

let breakdown = `
Hours charged: ${hours}
Cost hours: £${costHours.toFixed(2)}
Miles: ${miles.toFixed(2)}
Cost miles: £${costMiles.toFixed(2)}
Total flights: ${totalFlights}
Cost stairs: £${costStairs.toFixed(2)}
Total final: £${totalFinal.toFixed(2)}
Estimated total time: ${h}h ${m}m}
`;

document.getElementById("quoteData").value = breakdown;

document.getElementById("result").style.display = "block";
document.getElementById("result").innerHTML = breakdown.replace(/\n/g,"<br>");

setTimeout(()=> e.target.submit(), 1200);

});

});
</script>

</body>
</html>
